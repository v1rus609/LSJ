<!DOCTYPE html>
<html>
<head>
    <title>Add Container</title>
    <link rel="stylesheet" href="container.css">
</head>
<body>


    <div class="form-container">
	
	<div class="container">	
		
	<div class="navbar">
		<a href="index.html" class="home-icon">
                <img src="home-icon.png" alt="Home" width="32">
		</a>
		<div class="dropdown">
			<button class="dropbtn">
                    <img src="menu-icon.png" alt="Menu" width="24">
			</button>
			<div class="dropdown-content">
			<a href="container.html" class="active">Add Container</a>
			<a href="containers.html">Container List</a>
			<a href="buyers.html">Add Buyer</a>
			<a href="inventory.html">Inventory</a>
			<a href="purchase.html">Sales History</a>
			<a href="received-payment.html">Received Payment</a>
			<a href="payment-history.html">Payment History</a>
			<a href="sales-statement.html">Sales Statement</a>
			<a href="purchase-return.html">Sales Return</a>
			<a href="previous-sales-return.html">Previous Sales Return</a>
			<a href="return-history.html">Return History</a>
			<a href="discount.html">Discount</a>
			<a href="discount-history.html">Discount History</a>
			<a href="buyer-timeline.html">Buyer Timeline</a>
			<a href="#" id="logout-btn"class="active2">Logout</a>			
			</div>
		</div>
	</div>
	
	<div class="logo">
         <img src="logo.png" alt="Company Logo">
    </div>

	          
	   <h1>Add Container</h1>
        <form action="/containers/add" method="POST">
            <label for="container_number">Container Number:</label>
            <input type="text" id="container_number" name="container_number" required autocomplete="off">

            <label for="weight">Weight (kg):</label>
            <input type="text" id="weight" name="weight" step="0.01" required autocomplete="off">

            <label for="arrival_date">Arrival Date:</label>
            <input type="date" id="arrival_date" name="arrival_date" required>

            <button type="submit">Add Container</button>
        </form>
    </div>

    <div id="success-popup">
        Container Added Successfully!
    </div>

    <script src="container.js"></script>
	
	    <script>
        // Ensure the user is logged in
    // Ensure the user is logged in and has the appropriate role
    fetch('/check-role')
        .then(response => response.json())  // Parse JSON response from server
        .then(data => {
            if (!data.loggedIn) {
                window.location.href = '/login.html'; // Redirect to login page if not logged in
            } else {
                // Check if the logged-in user is an Admin
                if (data.role !== 'Admin') {
                    // If the user is not an Admin, redirect to index.html
                    window.location.href = '/index.html';
                }
            }
        })
        .catch(error => {
            console.error('Error checking user role:', error);
            window.location.href = '/login.html'; // Redirect to login if error occurs
        });

    </script>
	
</body>
</html>
